{"version":3,"sources":["styles/buttons/rounded-button.module.scss","components/auth/verifyAccount/verifyAccount.module.scss","../../node_modules/style-inject/dist/style-inject.es.js","../../src/index.js","components/auth/verifyAccount/index.tsx","hooks/useQuery.ts"],"names":["module","exports","css","ref","insertAt","document","head","getElementsByTagName","style","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","KEY_CODE","ReactCodeInput","fields","props","values","vals","autoFocusIndex","i","Array","React","this","loading","title","fieldHeight","fieldWidth","autoFocus","className","INPUT_STYLE","ROOT_STYLE","LOADING_STYLE","styles","index","onKeyDown","onFocus","Component","propTypes","PropTypes","defaultProps","__clearvalues__","triggerChange","onChange","onComplete","val","e","parseInt","next","value","Object","nextIndex","cursor","prevIndex","prev","VerifyAccount","query","URLSearchParams","useLocation","search","useState","verificationCode","setVerificationCode","get","email","setEmail","setLoading","history","useHistory","submit","a","http","patch","UserAPI","ACTIVATE","code","Number","response","data","success","toast","message","replace","RoutesProps","LOGIN","Box","display","justifyContent","alignItems","height","Card","width","padding","Grid","container","spacing","item","xs","Typography","align","variant","TextField","target","label","fullWidth","codeInput","Button","onClick","disabled","roundedButtonStyle","root","size","color"],"mappings":"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","file":"static/js/11.f7f9100f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"rounded-button_root__3zehj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"codeInput\":\"verifyAccount_codeInput__3S9ky\"};","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './styles.css';\n\nconst KEY_CODE = {\n  backspace: 8,\n  left: 37,\n  up: 38,\n  right: 39,\n  down: 40\n};\n\nexport default class ReactCodeInput extends Component {\n  static propTypes = {\n    type: PropTypes.oneOf(['text', 'number']),\n    onChange: PropTypes.func,\n    onComplete: PropTypes.func,\n    fields: PropTypes.number,\n    loading: PropTypes.bool,\n    title: PropTypes.string,\n    fieldWidth: PropTypes.number,\n    id: PropTypes.string,\n    fieldHeight: PropTypes.number,\n    autoFocus: PropTypes.bool,\n    className: PropTypes.string,\n    values: PropTypes.arrayOf(PropTypes.string),\n    disabled: PropTypes.bool,\n    required: PropTypes.bool,\n    placeholder: PropTypes.arrayOf(PropTypes.string)\n  };\n\n  static defaultProps = {\n    type: 'number',\n    fields: 6,\n    fieldWidth: 58,\n    fieldHeight: 54,\n    autoFocus: true,\n    disabled: false,\n    required: false,\n    placeholder: []\n  };\n\n  constructor(props) {\n    super(props);\n    const { fields, values } = props;\n    let vals;\n    let autoFocusIndex = 0;\n    if (values && values.length) {\n      vals = [];\n      for (let i = 0; i < fields; i++) {\n        vals.push(values[i] || '');\n      }\n      autoFocusIndex = values.length >= fields ? 0 : values.length;\n    } else {\n      vals = Array(fields).fill('');\n    }\n    this.state = { values: vals, autoFocusIndex };\n\n    this.iRefs = [];\n    for (let i = 0; i < fields; i++) {\n      this.iRefs.push(React.createRef());\n    }\n    this.id = +new Date();\n\n    // this.handleKeys = Array(fields).fill(false);\n  }\n\n  /**\n   * Clear all field value & focus first field\n   */\n  __clearvalues__ = () => {\n    const { fields } = this.props;\n    this.setState({ values: Array(fields).fill('') });\n    this.iRefs[0].current.focus();\n  };\n\n  triggerChange = (values = this.state.values) => {\n    const { onChange, onComplete, fields } = this.props;\n    const val = values.join('');\n    onChange && onChange(val);\n    if (onComplete && val.length >= fields) {\n      onComplete(val);\n    }\n  };\n\n  onChange = e => {\n    const index = parseInt(e.target.dataset.id);\n    if (this.props.type === 'number') {\n      e.target.value = e.target.value.replace(/[^\\d]/gi, '');\n    }\n    // this.handleKeys[index] = false;\n    if (\n      e.target.value === '' ||\n      (this.props.type === 'number' && !e.target.validity.valid)\n    ) {\n      return;\n    }\n    const { fields } = this.props;\n    let next;\n    const value = e.target.value;\n    let { values } = this.state;\n    values = Object.assign([], values);\n    if (value.length > 1) {\n      let nextIndex = value.length + index - 1;\n      if (nextIndex >= fields) {\n        nextIndex = fields - 1;\n      }\n      next = this.iRefs[nextIndex];\n      const split = value.split('');\n      split.forEach((item, i) => {\n        const cursor = index + i;\n        if (cursor < fields) {\n          values[cursor] = item;\n        }\n      });\n      this.setState({ values });\n    } else {\n      next = this.iRefs[index + 1];\n      values[index] = value;\n      this.setState({ values });\n    }\n\n    if (next) {\n      next.current.focus();\n      next.current.select();\n    }\n\n    this.triggerChange(values);\n  };\n\n  onKeyDown = e => {\n    const index = parseInt(e.target.dataset.id);\n    const prevIndex = index - 1;\n    const nextIndex = index + 1;\n    const prev = this.iRefs[prevIndex];\n    const next = this.iRefs[nextIndex];\n    switch (e.keyCode) {\n      case KEY_CODE.backspace:\n        e.preventDefault();\n        const vals = [...this.state.values];\n        if (this.state.values[index]) {\n          vals[index] = '';\n          this.setState({ values: vals });\n          this.triggerChange(vals);\n        } else if (prev) {\n          vals[prevIndex] = '';\n          prev.current.focus();\n          this.setState({ values: vals });\n          this.triggerChange(vals);\n        }\n        break;\n      case KEY_CODE.left:\n        e.preventDefault();\n        if (prev) {\n          prev.current.focus();\n        }\n        break;\n      case KEY_CODE.right:\n        e.preventDefault();\n        if (next) {\n          next.current.focus();\n        }\n        break;\n      case KEY_CODE.up:\n      case KEY_CODE.down:\n        e.preventDefault();\n        break;\n      default:\n        // this.handleKeys[index] = true;\n        break;\n    }\n  };\n\n  // onKeyUp = e => {\n  //   const index = parseInt(e.target.dataset.id);\n  //   if (this.handleKeys[index]) {\n  //     this.handleKeys[index] = false;\n  //     const next = this.iRefs[index + 1];\n  //     if (next) {\n  //       next.current.focus();\n  //     }\n  //   }\n  // };\n\n  onFocus = e => {\n    e.target.select(e);\n  };\n\n  render() {\n    const { values, autoFocusIndex } = this.state;\n    const {\n      loading,\n      title,\n      fieldHeight,\n      fieldWidth,\n      fields,\n      autoFocus,\n      className,\n      type\n    } = this.props;\n    const INPUT_STYLE = {\n      width: fieldWidth,\n      height: fieldHeight\n    };\n    const ROOT_STYLE = {\n      width: fields * fieldWidth\n    };\n    const LOADING_STYLE = {\n      lineHeight: `${fieldHeight}px`\n    };\n    return (\n      <div\n        className={`${styles['react-code-input-container']} ${className}`}\n        style={ROOT_STYLE}\n      >\n        {title && <p className={styles['title']}>{title}</p>}\n        <div className={styles['react-code-input']}>\n          {values.map((value, index) => (\n            <input\n              type={type === 'number' ? 'tel' : type}\n              pattern={type === 'number' ? '[0-9]*' : null}\n              autoFocus={autoFocus && index === autoFocusIndex}\n              style={INPUT_STYLE}\n              key={`${this.id}-${index}`}\n              data-id={index}\n              value={value}\n              id={this.props.id ? `${this.props.id}-${index}` : null}\n              ref={this.iRefs[index]}\n              onChange={this.onChange}\n              onKeyDown={this.onKeyDown}\n              // onKeyUp={this.onKeyUp}\n              onFocus={this.onFocus}\n              disabled={this.props.disabled}\n              required={this.props.required}\n              placeholder={this.props.placeholder[index]}\n            />\n          ))}\n        </div>\n        {loading && (\n          <div className={styles['loading']} style={LOADING_STYLE}>\n            <div className={styles['blur']} />\n            <svg\n              className={styles['spin']}\n              viewBox=\"0 0 1024 1024\"\n              data-icon=\"loading\"\n              width=\"1em\"\n              height=\"1em\"\n              fill=\"currentColor\"\n              aria-hidden=\"true\"\n            >\n              <path\n                fill=\"#006fff\"\n                d=\"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 0 0-94.3-139.9 437.71 437.71 0 0 0-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z\"\n              />\n            </svg>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n","import React, { useState } from 'react';\nimport { Box, Button, Card, Grid, TextField, Typography } from '@material-ui/core';\nimport ReactCodeInput from 'react-verification-code-input';\nimport roundedButtonStyle from 'styles/buttons/rounded-button.module.scss';\nimport style from './verifyAccount.module.scss';\nimport { http, UserAPI } from 'adapters';\nimport { useQuery } from 'hooks/useQuery';\nimport { toast } from 'react-toastify';\nimport { useHistory } from 'react-router-dom';\nimport { RoutesProps } from 'routes';\n\nexport default function VerifyAccount() {\n const query = useQuery();\n const [verificationCode, setVerificationCode] = useState<string>();\n const [email, setEmail] = useState(query.get('email'));\n const [loading, setLoading] = useState(false);\n const history = useHistory();\n\n const submit = async () => {\n  try {\n   setLoading(true);\n   const response = await http.patch(UserAPI.ACTIVATE, { email, code: Number(verificationCode) });\n   if (response.data.success) {\n    toast.success(response.data.message);\n    history.replace(RoutesProps.LOGIN);\n   }\n  } catch {}\n  setLoading(false);\n };\n\n return (\n  <Box display='flex' justifyContent='center' alignItems='center' height='100%'>\n   <Card>\n    <Box width='348px' padding={4}>\n     <Grid container spacing={5}>\n      <Grid item xs={12}>\n       <Typography align='center' variant='h4'>\n        Verify Account\n       </Typography>\n       <Typography align='center' variant='subtitle2'>\n        You registered an account on LCARD, before being able to use your account you need to verify that this is your email address by coping code\n        that is sent to you.\n       </Typography>\n      </Grid>\n      <Grid item xs={12}>\n       <TextField value={email} onChange={(e) => setEmail(e.target.value)} label='Email address' fullWidth />\n      </Grid>\n      <Grid item xs={12}>\n       <ReactCodeInput className={style.codeInput} loading={loading} onChange={setVerificationCode} type='number' fields={6} />\n      </Grid>\n      <Grid item xs={12}>\n       <Button\n        onClick={submit}\n        disabled={loading}\n        className={roundedButtonStyle.root}\n        size='large'\n        variant='contained'\n        color='primary'\n        type='submit'\n        fullWidth>\n        Verify\n       </Button>\n      </Grid>\n     </Grid>\n    </Box>\n   </Card>\n  </Box>\n );\n}\n","import { useLocation } from 'react-router-dom';\n\nexport const useQuery = () => new URLSearchParams(useLocation().search);\n"],"sourceRoot":""}